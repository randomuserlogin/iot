
HTTP/1.1 200 OK
Content-Type: text/html
Connection: close
Refresh: 30


<!DOCTYPE HTML>
<html>
<head> <title>Online PPM</title> </head>
<body>
Anfrage Nr.:

<br/>
<br/>

<canvas id="Canvas1" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas2" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas3" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas4" width="1000" height="400" style="border:1px solid #001234">
</canvas>

<br/>
<br/>



<script type="text/javascript">

    function drawGraph(canvas, readings, xLabels ,printLabelsX, printVertLabels)
    {	
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        
        var borderWidthUp=20;
        var borderWidthDown=100;
        var borderWidthLeft=60;
        var borderWidthRight=10;
         
        var minReading=Math.min.apply(null,readings);   
        var maxReading=Math.max.apply(null,readings);
        var numOfReadings=readings.length;       

        var context=canvas.getContext("2d");
        var xMin=borderWidthLeft;          
        var xMax=canvas.width - borderWidthRight;
        var yMax=borderWidthUp;            
        var yMin=canvas.height - borderWidthDown;  
        var gridVertInc=(canvas.height - borderWidthUp - borderWidthDown)/4.0; 
        var readingVertInc=(maxReading- minReading) / 4.0; 
        var yScale=(yMin- yMax)/(maxReading-minReading);  
        var xScale=(xMax-xMin)/(numOfReadings-1);
        var grd = context.createLinearGradient(0, 700, 0, 0);

        grd.addColorStop(0,"grey");
        grd.addColorStop(1,"white");
        context.fillStyle = grd;
        context.fillRect(0,0, canvas.width,canvas.height); 
        context.font="10pt Arial";
        context.lineWidth=1; 
        context.strokeStyle="#A0A0A0"; 
        context.fillStyle="#000000";
        context.textAlign="right";

        context.beginPath();

        var i;
        var tmp;
        
        for(i=0; i<5; i++)
        {
            tmp=minReading+(4-i)*readingVertInc; 
            context.fillText(tmp.toFixed(2),xMin-5,yMax + i*gridVertInc);
            context.moveTo(xMin,yMax+i*gridVertInc); 
            context.lineTo(xMax,yMax+i*gridVertInc);
        }  
        context.textAlign="center";

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin); 
            context.lineTo(xMin+i*xScale,yMax);
        }  
        context.stroke();
                
        // plot x labels 
        
        if(printLabelsX == true)
        {   
            if(printVertLabels == true)
            {
                context.save(); 
                context.translate( xMin,yMin+50);
                context.rotate(Math.PI/180*270);
            
                for(i=0;i<numOfReadings;i++)
                {       
                    context.fillText(xLabels[i],0,i*xScale);
                }
                context.restore();
            }
            else
            {
                for(i=0;i<numOfReadings;i++)
                {
                    //if(i%labelsXwidth == 0)
                    //{
                    context.fillText(xLabels[i],xMin + i*xScale ,yMin + 20);
                    //}
                }       
                context.stroke();
            }
        }
        
        // set color red
        context.strokeStyle="#ff0000";
        
        // draw lines between data points
        context.beginPath();
  
        context.moveTo(xMin,yMin-(readings[0]-minReading)*yScale);
        
        for(i=1;i<numOfReadings;i++)
        {
            context.lineTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);
        }
        context.stroke();
        
        // draw data points 
        context.beginPath();
        context.lineWidth=3;	

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);   
            context.arc(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale,2,0,2*Math.PI,false);
        } 
        context.stroke();
    }
	var envelope = [70.00,78.00,72.00,83.00,90.00,95.00,89.00,84.00,76.00,75.00,81.00,81.00,89.00,94.00,90.00,94.00,102.00,84.00,74.00,74.00,92.00,92.00,92.00,87.00,88.00,84.00,80.00,82.00,69.00,59.00,52.00,57.00,81.00,79.00,76.00,81.00,70.00,74.00,81.00,55.00,48.00,49.00,69.00,74.00,77.00,68.00,33.00,34.00,66.00,69.00,67.00,42.00,36.00,50.00,46.00,51.00,46.00,58.00,66.00,65.00,85.00,65.00,65.00,83.00,112.00,104.00,98.00,76.00,56.00,68.00,72.00,58.00,63.00,63.00,54.00,58.00,69.00,52.00,50.00,63.00,66.00,73.00,80.00,75.00,66.00,84.00,64.00,48.00,40.00,42.00,46.00,42.00,41.00,60.00,60.00,67.00,73.00,69.00,67.00,38.00,36.00,56.00,57.00,38.00,51.00,50.00,62.00,47.00,61.00,77.00,82.00,78.00,62.00,37.00,51.00,63.00,79.00,68.00,39.00,53.00,58.00,68.00,76.00,67.00,48.00,39.00,42.00,60.00,62.00,52.00,59.00,56.00,65.00,53.00,50.00,52.00,65.00,81.00,73.00,68.00,56.00,68.00,94.00,82.00,74.00,32.00,42.00,47.00,61.00,67.00,99.00,103.00,118.00,89.00,69.00,46.00,42.00,47.00,51.00,64.00,64.00,59.00,46.00,21.00,49.00,55.00,41.00,50.00,55.00,45.00,33.00,45.00,36.00,36.00,36.00,40.00,49.00,39.00,24.00,32.00,39.00,36.00,51.00,46.00,30.00,25.00,32.00,33.00,41.00,50.00,49.00,31.00,35.00,41.00,44.00,41.00,39.00,34.00,42.00,35.00,43.00,70.00,59.00,42.00,44.00,48.00,30.00,26.00,44.00,41.00,33.00,42.00,50.00,44.00,41.00,35.00,36.00,35.00,36.00,36.00,34.00,22.00,15.00,21.00,30.00,25.00,23.00,28.00,38.00,37.00,42.00,20.00,27.00,35.00,37.00,26.00,30.00,18.00,17.00,17.00,33.00,27.00,27.00,29.00,38.00,41.00,44.00,62.00,69.00,70.00,59.00,44.00,32.00,37.00,44.00,60.00];

	var spectrum = [86.97,98.61,136.34,269.32,131.72,106.77,78.66,47.74,77.01,76.36,45.66,51.12,42.20,51.08,51.28,53.63,55.71,61.80,59.94,57.39,56.91,57.23,86.77,88.16,71.37,58.00,72.61,44.18,80.35,82.17,93.49,128.92,351.56,1956.11,914.44,413.88,325.96,249.38,414.63,501.79,309.39,518.24,549.08,582.20,581.39,888.14,888.66,1955.87,2204.42,3005.99,4315.69,3415.70,4971.91,5259.40,8865.34,46857.79,6939.08,3336.96,1793.27,1096.84,829.57,928.23,612.15,522.51,366.72,827.27,601.37,1203.09,495.34,208.81,198.17,158.22,170.43,86.77,96.47,77.34,98.16,95.00,138.03,92.49,150.36,184.24,304.24,1173.23,2106.12,614.98,156.11,305.87,152.54,110.63,89.07,68.90,69.15,62.02,52.76,66.23,42.29,64.35,52.25,36.63,60.96,91.94,58.11,71.08,50.17,47.85,45.93,45.62,43.25,37.70,56.82,40.27,56.51,32.63,43.03,39.84,50.48,42.29,48.82,46.26,37.35,44.13,80.49,48.05,45.27,42.01,35.98,48.17];

	var peakHistory = [1999.37,1999.50,1999.46,1999.29,1999.50,1999.64,1999.66,1999.45,1999.58,1999.52,1999.49,1999.54,1999.37,1999.40,1999.36,1999.42,1999.38,1999.24,1999.39,1999.30,1999.28,1999.50,1999.41,1999.47,1999.66,1999.28,1999.65,1999.60,1999.67,1999.62,1999.80,1999.31,1999.58,1999.77,1999.91,1999.87,1999.37,1999.39,1999.49,1999.63,1999.41,1999.94,1999.44,1999.58,2000.10,2000.03,2000.12,1999.91,2000.11,1999.93,1999.93,1999.93,2000.69,2000.08,2000.21,2000.15,1999.73,1999.94,1999.98,1999.79,1999.56,1999.73,1999.62,1999.87,1999.78,1999.89,1999.49,1999.73,1999.72,1999.94,1999.79,1999.80,1999.88,1999.94,1999.93,1999.72,1999.94,1999.62,1999.37,1999.47,1999.66,1999.52,1999.47,1999.54,1999.65,1999.38,1999.40,1999.41,1999.45,1999.45,1999.38,1999.44,1999.51,1999.42,1999.63,1999.42,1999.43,1999.43,1999.43,1999.46];

	var magHistory = [84039.31,78544.50,66012.48,80242.22,73486.29,68338.05,64896.55,53219.97,67431.23,76791.35,75307.85,80720.26,74817.45,76894.53,80979.57,74119.04,79453.78,82830.17,91352.54,75626.40,81700.53,81973.90,94803.23,75122.24,80687.93,62934.29,63554.32,74853.55,70296.67,68100.68,53984.37,105525.21,64646.99,59416.73,50196.27,61306.85,59928.16,61677.77,70788.64,60742.35,60775.71,50577.36,58361.76,69854.25,53351.26,47035.63,43438.98,51491.16,50312.65,46571.85,45791.55,51804.23,39362.61,46224.65,35697.01,39653.12,59336.32,54000.56,50400.09,45162.12,59819.46,55960.68,49454.47,61904.91,59329.77,54666.31,69257.23,63773.05,66250.52,53120.23,58171.25,53444.67,53312.92,49765.38,61176.73,59651.65,53278.51,58033.90,71216.84,73602.96,69946.58,83264.48,79383.45,85606.70,70078.85,69249.94,79266.13,78253.14,83060.89,76855.09,74708.90,79983.78,72927.75,70444.67,68041.05,74217.71,83278.30,75979.03,82617.32,69920.05];


    var labels= ["15.03.20, 18:00", "15.03.20, 19:00", "15.03.20, 20:00", "15.03.20, 21:00", "auf", "dem" , "See"];
    
    drawGraph(document.getElementById("Canvas1"), envelope, labels,false, false);
    drawGraph(document.getElementById("Canvas2"), spectrum, labels,false, true);
    drawGraph(document.getElementById("Canvas3"), peakHistory,  labels,false, false);
    drawGraph(document.getElementById("Canvas4"), magHistory,  labels,false, false);

  </script>
 </body>
</html>
	Average# 0 of 0	PeakFreq: 1999.46	PeakMag: 69920.05; 
