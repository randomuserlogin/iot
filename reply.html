
HTTP/1.1 200 OK
Content-Type: text/html
Connection: close
Refresh: 30


<!DOCTYPE HTML>
<html>
<head> <title>Online PPM</title> </head>
<body>
Anfrage Nr.:

<br/>
<br/>

<canvas id="Canvas1" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas2" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas3" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas4" width="1000" height="400" style="border:1px solid #001234">
</canvas>

<br/>
<br/>



<script type="text/javascript">

    function drawGraph(canvas, readings, xLabels ,printLabelsX, printVertLabels)
    {	
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        
        var borderWidthUp=20;
        var borderWidthDown=100;
        var borderWidthLeft=60;
        var borderWidthRight=10;
         
        var minReading=Math.min.apply(null,readings);   
        var maxReading=Math.max.apply(null,readings);
        var numOfReadings=readings.length;       

        var context=canvas.getContext("2d");
        var xMin=borderWidthLeft;          
        var xMax=canvas.width - borderWidthRight;
        var yMax=borderWidthUp;            
        var yMin=canvas.height - borderWidthDown;  
        var gridVertInc=(canvas.height - borderWidthUp - borderWidthDown)/4.0; 
        var readingVertInc=(maxReading- minReading) / 4.0; 
        var yScale=(yMin- yMax)/(maxReading-minReading);  
        var xScale=(xMax-xMin)/(numOfReadings-1);
        var grd = context.createLinearGradient(0, 700, 0, 0);

        grd.addColorStop(0,"grey");
        grd.addColorStop(1,"white");
        context.fillStyle = grd;
        context.fillRect(0,0, canvas.width,canvas.height); 
        context.font="10pt Arial";
        context.lineWidth=1; 
        context.strokeStyle="#A0A0A0"; 
        context.fillStyle="#000000";
        context.textAlign="right";

        context.beginPath();

        var i;
        var tmp;
        
        for(i=0; i<5; i++)
        {
            tmp=minReading+(4-i)*readingVertInc; 
            context.fillText(tmp.toFixed(2),xMin-5,yMax + i*gridVertInc);
            context.moveTo(xMin,yMax+i*gridVertInc); 
            context.lineTo(xMax,yMax+i*gridVertInc);
        }  
        context.textAlign="center";

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin); 
            context.lineTo(xMin+i*xScale,yMax);
        }  
        context.stroke();
                
        // plot x labels 
        
        if(printLabelsX == true)
        {   
            if(printVertLabels == true)
            {
                context.save(); 
                context.translate( xMin,yMin+50);
                context.rotate(Math.PI/180*270);
            
                for(i=0;i<numOfReadings;i++)
                {       
                    context.fillText(xLabels[i],0,i*xScale);
                }
                context.restore();
            }
            else
            {
                for(i=0;i<numOfReadings;i++)
                {
                    //if(i%labelsXwidth == 0)
                    //{
                    context.fillText(xLabels[i],xMin + i*xScale ,yMin + 20);
                    //}
                }       
                context.stroke();
            }
        }
        
        // set color red
        context.strokeStyle="#ff0000";
        
        // draw lines between data points
        context.beginPath();
  
        context.moveTo(xMin,yMin-(readings[0]-minReading)*yScale);
        
        for(i=1;i<numOfReadings;i++)
        {
            context.lineTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);
        }
        context.stroke();
        
        // draw data points 
        context.beginPath();
        context.lineWidth=3;	

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);   
            context.arc(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale,2,0,2*Math.PI,false);
        } 
        context.stroke();
    }
	var envelope = [189.00,198.00,185.00,164.00,103.00,73.00,33.00,95.00,128.00,152.00,164.00,163.00,181.00,178.00,176.00,168.00,159.00,147.00,111.00,74.00,55.00,70.00,66.00,54.00,68.00,101.00,114.00,122.00,151.00,160.00,180.00,200.00,176.00,163.00,165.00,137.00,134.00,130.00,112.00,79.00,56.00,34.00,25.00,45.00,54.00,82.00,88.00,127.00,158.00,194.00,176.00,153.00,115.00,68.00,57.00,76.00,100.00,123.00,97.00,52.00,40.00,76.00,106.00,86.00,59.00,50.00,40.00,26.00,40.00,52.00,66.00,86.00,98.00,106.00,111.00,132.00,155.00,158.00,143.00,139.00,168.00,174.00,173.00,173.00,169.00,158.00,123.00,127.00,145.00,173.00,178.00,179.00,173.00,157.00,148.00,136.00,136.00,159.00,161.00,160.00,145.00,116.00,95.00,87.00,81.00,91.00,116.00,122.00,135.00,149.00,160.00,162.00,155.00,126.00,119.00,110.00,82.00,66.00,70.00,84.00,76.00,63.00,48.00,55.00,86.00,111.00,141.00,144.00,130.00,105.00,47.00,31.00,60.00,78.00,101.00,107.00,132.00,152.00,165.00,165.00,132.00,66.00,66.00,105.00,142.00,151.00,187.00,187.00,198.00,196.00,173.00,142.00,131.00,146.00,161.00,161.00,134.00,108.00,86.00,97.00,96.00,67.00,30.00,51.00,89.00,108.00,125.00,138.00,115.00,102.00,124.00,120.00,105.00,113.00,146.00,162.00,167.00,141.00,114.00,132.00,142.00,144.00,80.00,69.00,100.00,141.00,144.00,147.00,133.00,110.00,91.00,62.00,77.00,106.00,118.00,131.00,131.00,150.00,139.00,128.00,80.00,67.00,66.00,69.00,69.00,87.00,106.00,112.00,127.00,132.00,138.00,159.00,165.00,162.00,152.00,133.00,119.00,76.00,51.00,78.00,96.00,123.00,130.00,136.00,125.00,86.00,65.00,42.00,71.00,102.00,107.00,125.00,153.00,150.00,144.00,137.00,89.00,64.00,40.00,49.00,79.00,104.00,121.00,138.00,136.00,145.00,133.00,140.00,150.00,155.00,159.00,179.00,164.00,153.00,140.00,160.00];

	var spectrum = [53.28,44.29,47.87,82.97,53.69,59.52,62.76,76.09,92.18,102.22,85.93,97.93,100.18,90.94,73.57,90.63,97.39,90.41,94.98,98.62,107.23,107.76,128.84,177.06,171.60,259.88,319.63,495.93,194.25,236.31,289.37,245.77,259.24,421.81,283.44,339.46,413.41,352.20,554.67,537.10,631.48,776.63,546.72,874.43,1467.53,1928.37,2220.79,2356.45,3629.15,4628.95,12769.38,15953.63,25767.07,24434.25,34898.96,58291.33,11691.83,9147.06,6982.86,2329.74,1704.97,1740.07,994.92,1334.99,870.59,723.28,672.66,582.28,634.94,487.27,462.11,494.95,440.43,419.43,422.41,383.11,398.52,345.91,325.06,292.54,300.72,347.04,275.48,282.38,256.13,279.11,243.98,227.25,248.87,233.26,225.01,268.09,253.30,217.80,227.83,223.39,218.52,216.21,198.13,231.81,193.32,214.09,205.36,200.63,195.52,184.89,191.78,198.62,208.59,204.92,184.06,184.77,206.88,181.44,199.68,197.14,190.65,205.34,175.13,195.72,193.07,166.22,229.54,241.75,227.49,184.59,174.97,191.59];

	var peakHistory = [1995.42,1998.97,1999.19,1994.11,1990.66,1931.24,1996.54,1895.48,1999.32,1994.81,1945.17,1994.44,1920.22,1909.00,1922.37,1994.73,1994.92,1898.41,1917.66,1885.95,1907.57,1882.56,1913.16,1887.60,1912.89,1899.50,1918.43,1903.73,1921.11,1905.35,2003.65,1892.23,1922.17,1909.23,2003.53,1895.31,2003.64,1903.92,1927.95,1900.50,2003.89,1928.09,1926.87,1904.95,1932.45,1910.29,1932.07,1922.61,2003.54,1921.57,2002.72,2003.93,2002.90,2002.27,2001.01,1899.63,2002.97,2003.15,1981.59,1967.75,1926.70,2004.60,1963.02,1945.37,2003.84,2002.88,2002.45,2001.69,2003.15,2002.36,2000.59,1998.90,2002.60,2001.07,1949.83,1954.28,1907.93,1945.09,2000.72,2002.77,2003.31,2003.45,2002.94,2002.14,1999.75,1999.47,1999.53,2001.88,1998.98,2002.03,1999.58,1998.94,2000.36,1998.67,1999.18,1999.13,1997.62,1999.62,1976.38,1999.02];

	var magHistory = [38036.74,71003.72,116040.42,58043.46,79515.67,90405.86,34897.18,50880.44,115660.62,134544.76,85556.89,66553.33,47754.70,50552.56,130373.46,116423.39,118417.66,59419.26,90736.24,87825.05,23464.24,38929.56,142357.89,41210.37,114435.94,123524.82,52597.56,75191.10,47765.34,44013.30,87779.17,51100.83,52981.98,89739.38,97303.79,67867.92,72843.81,71537.39,55700.60,47888.04,95129.82,48972.55,60577.77,63447.68,69050.69,49550.42,76009.83,68924.02,93707.60,50885.62,42362.99,52002.69,58316.77,25086.85,24954.43,51267.24,62556.33,37479.61,57256.98,82896.87,61686.41,61010.73,46579.76,80230.02,64127.14,48344.20,53118.22,18799.74,50879.99,41065.99,53701.29,61300.68,35847.77,34413.45,58597.60,58444.66,13877.15,71127.97,38290.11,62172.75,43291.98,35777.08,49655.03,22176.41,79331.62,81838.07,80992.35,12943.11,75589.14,50152.64,67868.33,69261.25,45251.60,41652.08,111356.69,130315.11,30977.98,86097.12,60342.17,87111.42];


    var labels= ["15.03.20, 18:00", "15.03.20, 19:00", "15.03.20, 20:00", "15.03.20, 21:00", "auf", "dem" , "See"];
    
    drawGraph(document.getElementById("Canvas1"), envelope, labels,false, false);
    drawGraph(document.getElementById("Canvas2"), spectrum, labels,false, true);
    drawGraph(document.getElementById("Canvas3"), peakHistory,  labels,false, false);
    drawGraph(document.getElementById("Canvas4"), magHistory,  labels,false, false);

  </script>
 </body>
</html>
	Average# 0 of 0	PeakFreq: 1999.02	PeakMag: 87111.42; 
