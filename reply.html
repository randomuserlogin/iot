
HTTP/1.1 200 OK
Content-Type: text/html
Connection: close
Refresh: 30


<!DOCTYPE HTML>
<html>
<head> <title>Online PPM</title> </head>
<body>
Anfrage Nr.:

<br/>
<br/>

<canvas id="Canvas1" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas2" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas3" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas4" width="1000" height="400" style="border:1px solid #001234">
</canvas>

<br/>
<br/>



<script type="text/javascript">

    function drawGraph(canvas, readings, xLabels ,printLabelsX, printVertLabels)
    {	
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        
        var borderWidthUp=20;
        var borderWidthDown=100;
        var borderWidthLeft=60;
        var borderWidthRight=10;
         
        var minReading=Math.min.apply(null,readings);   
        var maxReading=Math.max.apply(null,readings);
        var numOfReadings=readings.length;       

        var context=canvas.getContext("2d");
        var xMin=borderWidthLeft;          
        var xMax=canvas.width - borderWidthRight;
        var yMax=borderWidthUp;            
        var yMin=canvas.height - borderWidthDown;  
        var gridVertInc=(canvas.height - borderWidthUp - borderWidthDown)/4.0; 
        var readingVertInc=(maxReading- minReading) / 4.0; 
        var yScale=(yMin- yMax)/(maxReading-minReading);  
        var xScale=(xMax-xMin)/(numOfReadings-1);
        var grd = context.createLinearGradient(0, 700, 0, 0);

        grd.addColorStop(0,"grey");
        grd.addColorStop(1,"white");
        context.fillStyle = grd;
        context.fillRect(0,0, canvas.width,canvas.height); 
        context.font="10pt Arial";
        context.lineWidth=1; 
        context.strokeStyle="#A0A0A0"; 
        context.fillStyle="#000000";
        context.textAlign="right";

        context.beginPath();

        var i;
        var tmp;
        
        for(i=0; i<5; i++)
        {
            tmp=minReading+(4-i)*readingVertInc; 
            context.fillText(tmp.toFixed(2),xMin-5,yMax + i*gridVertInc);
            context.moveTo(xMin,yMax+i*gridVertInc); 
            context.lineTo(xMax,yMax+i*gridVertInc);
        }  
        context.textAlign="center";

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin); 
            context.lineTo(xMin+i*xScale,yMax);
        }  
        context.stroke();
                
        // plot x labels 
        
        if(printLabelsX == true)
        {   
            if(printVertLabels == true)
            {
                context.save(); 
                context.translate( xMin,yMin+50);
                context.rotate(Math.PI/180*270);
            
                for(i=0;i<numOfReadings;i++)
                {       
                    context.fillText(xLabels[i],0,i*xScale);
                }
                context.restore();
            }
            else
            {
                for(i=0;i<numOfReadings;i++)
                {
                    //if(i%labelsXwidth == 0)
                    //{
                    context.fillText(xLabels[i],xMin + i*xScale ,yMin + 20);
                    //}
                }       
                context.stroke();
            }
        }
        
        // set color red
        context.strokeStyle="#ff0000";
        
        // draw lines between data points
        context.beginPath();
  
        context.moveTo(xMin,yMin-(readings[0]-minReading)*yScale);
        
        for(i=1;i<numOfReadings;i++)
        {
            context.lineTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);
        }
        context.stroke();
        
        // draw data points 
        context.beginPath();
        context.lineWidth=3;	

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);   
            context.arc(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale,2,0,2*Math.PI,false);
        } 
        context.stroke();
    }
	var envelope = [77.00,112.00,136.00,141.00,141.00,109.00,95.00,76.00,75.00,63.00,65.00,44.00,66.00,91.00,112.00,112.00,66.00,40.00,51.00,89.00,137.00,153.00,169.00,132.00,130.00,167.00,186.00,150.00,121.00,116.00,104.00,90.00,101.00,84.00,72.00,90.00,157.00,182.00,199.00,199.00,211.00,212.00,205.00,130.00,88.00,57.00,65.00,84.00,89.00,131.00,148.00,134.00,105.00,102.00,80.00,106.00,121.00,92.00,64.00,45.00,22.00,38.00,58.00,87.00,81.00,69.00,59.00,41.00,31.00,42.00,60.00,87.00,120.00,152.00,128.00,118.00,102.00,96.00,69.00,61.00,83.00,129.00,149.00,162.00,165.00,147.00,129.00,112.00,74.00,54.00,36.00,48.00,77.00,93.00,106.00,89.00,72.00,76.00,89.00,99.00,109.00,140.00,160.00,144.00,99.00,98.00,120.00,149.00,172.00,192.00,192.00,192.00,177.00,166.00,129.00,121.00,96.00,97.00,102.00,120.00,147.00,141.00,110.00,88.00,61.00,37.00,53.00,73.00,92.00,100.00,89.00,91.00,103.00,117.00,131.00,162.00,184.00,182.00,157.00,114.00,117.00,131.00,147.00,134.00,105.00,68.00,48.00,49.00,86.00,120.00,157.00,151.00,149.00,108.00,100.00,107.00,153.00,184.00,197.00,201.00,181.00,149.00,125.00,67.00,54.00,47.00,43.00,60.00,72.00,101.00,128.00,146.00,133.00,94.00,76.00,67.00,98.00,97.00,106.00,109.00,123.00,127.00,140.00,147.00,152.00,152.00,139.00,139.00,128.00,85.00,66.00,72.00,62.00,47.00,56.00,29.00,36.00,72.00,91.00,77.00,92.00,128.00,144.00,147.00,123.00,93.00,79.00,81.00,95.00,130.00,144.00,146.00,158.00,153.00,147.00,148.00,128.00,128.00,96.00,49.00,55.00,87.00,82.00,90.00,119.00,138.00,152.00,167.00,164.00,161.00,169.00,152.00,132.00,110.00,73.00,60.00,74.00,85.00,95.00,126.00,135.00,143.00,143.00,75.00,32.00,41.00,55.00,90.00,138.00,130.00,101.00,61.00,26.00,27.00,61.00,100.00];

	var spectrum = [88.05,109.25,152.51,136.05,140.89,119.16,122.40,118.54,120.12,121.41,116.34,144.36,101.36,116.33,130.55,144.78,123.36,120.36,123.35,121.86,113.08,113.21,132.06,121.24,168.51,226.07,333.26,353.60,428.86,491.95,395.87,265.16,239.15,331.33,462.36,375.12,355.65,234.94,294.72,609.42,458.06,746.40,712.21,864.60,1095.66,1458.06,1984.02,2372.88,3902.95,9068.52,10188.11,13560.84,17512.55,25586.96,29114.65,63154.07,16823.25,9716.71,6543.71,5923.06,2446.84,1296.82,999.38,1175.92,1444.03,757.25,497.41,298.41,275.59,232.65,213.32,223.79,177.87,171.36,236.51,189.62,86.41,109.69,145.27,144.29,118.12,138.02,112.60,107.61,106.22,120.34,92.49,120.84,86.51,79.56,108.90,85.91,72.67,63.20,83.29,82.26,84.53,79.70,73.38,63.32,73.60,87.18,61.08,71.76,64.23,63.75,77.25,63.27,71.06,67.57,50.65,41.79,54.94,50.61,74.01,57.83,53.34,67.58,76.38,93.46,57.53,63.30,63.50,57.19,81.58,108.15,172.61,101.33];

	var peakHistory = [1999.57,1999.47,1999.07,1997.56,1999.79,1999.28,1998.80,1999.42,1953.72,1997.13,1990.28,1999.14,1990.19,1990.02,1944.97,1994.53,1935.52,1995.74,1953.60,1918.91,1930.96,1899.52,1931.16,1907.93,1926.62,1896.46,1927.25,1900.70,1931.06,1899.54,1924.94,1905.12,1931.61,1916.87,1931.62,1922.69,1945.36,1999.21,1949.65,1922.51,1950.01,1999.53,1940.11,1935.66,1999.86,2000.06,1948.89,1951.97,1999.35,1999.61,1998.98,2000.06,1997.94,1922.38,1999.42,1999.86,1999.18,1998.94,1999.07,1998.71,1998.66,1999.58,1999.16,1999.02,2001.26,1999.28,1999.53,1999.64,1999.89,1999.86,1999.98,1998.71,1999.26,1999.68,1999.32,1998.76,1949.42,1998.83,1999.13,1998.60,1999.37,1999.30,1999.98,2000.18,1981.67,1998.14,1999.30,1999.23,1999.98,1999.19,1981.23,1999.04,1999.27,1999.70,1996.02,1931.54,1999.10,1997.54,1999.71,1999.29];

	var magHistory = [72059.19,82407.89,100344.64,53376.45,75342.20,59138.62,21809.24,85065.29,31172.10,37032.23,88678.69,93511.10,110602.09,86318.46,130260.31,66762.03,85303.73,64985.75,78353.63,58082.16,54887.54,67171.22,122520.02,59788.78,57496.35,53204.54,151346.37,80962.92,87212.71,117098.35,39516.94,59623.46,128020.91,40197.25,131342.37,108225.66,79851.07,52825.49,100471.38,60828.77,46788.25,51561.16,89950.43,45228.05,60613.50,64930.64,37833.89,29413.71,89588.07,60960.90,104132.25,39260.30,46486.87,83393.21,66396.43,66519.00,54757.71,32755.67,100277.03,46736.91,64600.48,93388.19,73374.01,101963.85,19543.33,59658.17,114031.71,81210.38,81407.80,50932.67,60174.61,30388.84,69757.11,70810.19,90664.76,77411.06,62032.54,61713.08,66069.47,66132.52,69842.19,94242.89,15927.78,49088.37,51408.66,27472.78,56348.69,27863.27,96146.28,51311.87,63877.78,63628.69,43869.51,67706.66,40767.20,49506.35,15607.35,40116.56,47300.71,117013.01];


    var labels= ["15.03.20, 18:00", "15.03.20, 19:00", "15.03.20, 20:00", "15.03.20, 21:00", "auf", "dem" , "See"];
    
    drawGraph(document.getElementById("Canvas1"), envelope, labels,false, false);
    drawGraph(document.getElementById("Canvas2"), spectrum, labels,false, true);
    drawGraph(document.getElementById("Canvas3"), peakHistory,  labels,false, false);
    drawGraph(document.getElementById("Canvas4"), magHistory,  labels,false, false);

  </script>
 </body>
</html>
	Average# 0 of 0	PeakFreq: 1999.29	PeakMag: 117013.01; 
