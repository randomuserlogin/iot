
HTTP/1.1 200 OK
Content-Type: text/html
Connection: close
Refresh: 30


<!DOCTYPE HTML>
<html>
<head> <title>Online PPM</title> </head>
<body>
Anfrage Nr.:

<br/>
<br/>

<canvas id="Canvas1" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas2" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas3" width="1000" height="400" style="border:1px solid #001234">
</canvas>
<canvas id="Canvas4" width="1000" height="400" style="border:1px solid #001234">
</canvas>

<br/>
<br/>



<script type="text/javascript">

    function drawGraph(canvas, readings, xLabels ,printLabelsX, printVertLabels)
    {	
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        
        var borderWidthUp=20;
        var borderWidthDown=100;
        var borderWidthLeft=60;
        var borderWidthRight=10;
         
        var minReading=Math.min.apply(null,readings);   
        var maxReading=Math.max.apply(null,readings);
        var numOfReadings=readings.length;       

        var context=canvas.getContext("2d");
        var xMin=borderWidthLeft;          
        var xMax=canvas.width - borderWidthRight;
        var yMax=borderWidthUp;            
        var yMin=canvas.height - borderWidthDown;  
        var gridVertInc=(canvas.height - borderWidthUp - borderWidthDown)/4.0; 
        var readingVertInc=(maxReading- minReading) / 4.0; 
        var yScale=(yMin- yMax)/(maxReading-minReading);  
        var xScale=(xMax-xMin)/(numOfReadings-1);
        var grd = context.createLinearGradient(0, 700, 0, 0);

        grd.addColorStop(0,"grey");
        grd.addColorStop(1,"white");
        context.fillStyle = grd;
        context.fillRect(0,0, canvas.width,canvas.height); 
        context.font="10pt Arial";
        context.lineWidth=1; 
        context.strokeStyle="#A0A0A0"; 
        context.fillStyle="#000000";
        context.textAlign="right";

        context.beginPath();

        var i;
        var tmp;
        
        for(i=0; i<5; i++)
        {
            tmp=minReading+(4-i)*readingVertInc; 
            context.fillText(tmp.toFixed(2),xMin-5,yMax + i*gridVertInc);
            context.moveTo(xMin,yMax+i*gridVertInc); 
            context.lineTo(xMax,yMax+i*gridVertInc);
        }  
        context.textAlign="center";

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin); 
            context.lineTo(xMin+i*xScale,yMax);
        }  
        context.stroke();
                
        // plot x labels 
        
        if(printLabelsX == true)
        {   
            if(printVertLabels == true)
            {
                context.save(); 
                context.translate( xMin,yMin+50);
                context.rotate(Math.PI/180*270);
            
                for(i=0;i<numOfReadings;i++)
                {       
                    context.fillText(xLabels[i],0,i*xScale);
                }
                context.restore();
            }
            else
            {
                for(i=0;i<numOfReadings;i++)
                {
                    //if(i%labelsXwidth == 0)
                    //{
                    context.fillText(xLabels[i],xMin + i*xScale ,yMin + 20);
                    //}
                }       
                context.stroke();
            }
        }
        
        // set color red
        context.strokeStyle="#ff0000";
        
        // draw lines between data points
        context.beginPath();
  
        context.moveTo(xMin,yMin-(readings[0]-minReading)*yScale);
        
        for(i=1;i<numOfReadings;i++)
        {
            context.lineTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);
        }
        context.stroke();
        
        // draw data points 
        context.beginPath();
        context.lineWidth=3;	

        for(i=0;i<numOfReadings;i++)
        {
            context.moveTo(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale);   
            context.arc(xMin+i*xScale,yMin-(readings[i]-minReading)*yScale,2,0,2*Math.PI,false);
        } 
        context.stroke();
    }
	var envelope = [78.00,135.00,156.00,155.00,130.00,135.00,124.00,116.00,85.00,85.00,104.00,100.00,80.00,83.00,78.00,79.00,86.00,100.00,93.00,92.00,91.00,81.00,88.00,66.00,49.00,49.00,38.00,48.00,64.00,72.00,74.00,65.00,83.00,104.00,107.00,119.00,109.00,90.00,83.00,88.00,108.00,101.00,92.00,104.00,121.00,84.00,79.00,74.00,70.00,65.00,78.00,64.00,70.00,73.00,39.00,25.00,38.00,67.00,61.00,78.00,63.00,61.00,67.00,69.00,57.00,61.00,78.00,82.00,69.00,65.00,68.00,56.00,64.00,62.00,47.00,49.00,70.00,64.00,69.00,65.00,86.00,99.00,92.00,76.00,65.00,69.00,75.00,52.00,53.00,44.00,60.00,72.00,72.00,74.00,57.00,51.00,47.00,32.00,12.00,20.00,40.00,61.00,61.00,48.00,46.00,55.00,54.00,55.00,64.00,50.00,47.00,46.00,48.00,52.00,54.00,46.00,45.00,61.00,63.00,59.00,61.00,62.00,66.00,72.00,43.00,39.00,41.00,54.00,60.00,49.00,35.00,40.00,40.00,45.00,42.00,42.00,45.00,37.00,52.00,60.00,45.00,46.00,44.00,37.00,38.00,39.00,46.00,54.00,55.00,65.00,53.00,41.00,36.00,45.00,43.00,48.00,55.00,54.00,54.00,50.00,68.00,61.00,64.00,64.00,55.00,48.00,56.00,58.00,51.00,50.00,34.00,48.00,44.00,38.00,45.00,55.00,58.00,61.00,70.00,54.00,42.00,37.00,35.00,67.00,79.00,88.00,67.00,56.00,56.00,64.00,58.00,51.00,32.00,35.00,63.00,76.00,53.00,56.00,43.00,32.00,62.00,70.00,75.00,61.00,50.00,31.00,38.00,55.00,89.00,92.00,93.00,65.00,60.00,69.00,72.00,77.00,71.00,42.00,34.00,44.00,32.00,21.00,34.00,27.00,14.00,30.00,26.00,22.00,31.00,35.00,30.00,50.00,45.00,40.00,48.00,44.00,37.00,41.00,31.00,37.00,31.00,30.00,35.00,33.00,37.00,46.00,47.00,39.00,48.00,43.00,18.00,30.00,58.00,44.00,32.00,33.00];

	var spectrum = [66.53,65.99,56.87,53.27,47.55,52.04,71.01,63.25,79.38,84.95,108.36,126.18,154.09,179.75,110.67,101.78,99.97,103.27,47.97,44.84,92.32,67.66,56.25,79.94,83.41,102.31,109.53,86.57,92.12,109.10,246.03,379.34,568.13,1158.30,868.46,351.52,409.22,458.97,259.02,261.59,426.06,519.61,644.75,801.47,696.98,1090.84,1255.27,1562.40,2537.39,2422.32,3145.36,4373.06,4839.57,5840.23,7579.55,47411.61,7372.08,3474.51,2742.74,1998.93,2101.57,1879.75,1302.32,997.60,766.21,656.30,831.48,705.27,854.72,356.88,370.86,196.12,265.25,184.31,218.44,139.89,157.08,176.44,328.76,490.43,1184.95,1287.37,406.25,260.33,184.20,121.28,178.07,138.46,94.92,147.69,137.11,113.83,164.86,159.04,177.27,108.16,135.29,92.42,109.76,85.14,77.24,94.35,118.29,85.11,85.87,98.51,89.66,123.77,85.48,86.17,112.58,96.24,75.82,75.77,110.11,60.59,72.34,70.93,92.67,99.99,82.26,81.14,103.74,68.39,72.62,98.59,69.29,71.04];

	var peakHistory = [2000.11,1999.93,1999.93,1999.93,2000.69,2000.08,2000.21,2000.15,1999.73,1999.94,1999.98,1999.79,1999.56,1999.73,1999.62,1999.87,1999.78,1999.89,1999.49,1999.73,1999.72,1999.94,1999.79,1999.80,1999.88,1999.94,1999.93,1999.72,1999.94,1999.62,1999.37,1999.47,1999.66,1999.52,1999.47,1999.54,1999.65,1999.38,1999.40,1999.41,1999.45,1999.45,1999.38,1999.44,1999.51,1999.42,1999.63,1999.42,1999.43,1999.43,1999.43,1999.46,1999.41,1999.35,1999.40,1999.54,1999.60,1999.31,1999.19,1999.35,1999.29,1999.40,1999.35,1999.39,1999.29,1999.42,1999.23,1999.14,1999.21,1998.73,1997.53,1996.32,1995.91,1996.59,1998.44,1998.69,1998.79,1999.17,1999.31,1999.31,1999.22,1999.29,1999.56,1999.15,1999.67,1999.92,1999.93,1999.80,1999.97,2000.07,2000.04,1999.93,2000.46,2000.15,2000.05,1999.68,1999.81,1999.73,1999.91,1999.39];

	var magHistory = [50312.65,46571.85,45791.55,51804.23,39362.61,46224.65,35697.01,39653.12,59336.32,54000.56,50400.09,45162.12,59819.46,55960.68,49454.47,61904.91,59329.77,54666.31,69257.23,63773.05,66250.52,53120.23,58171.25,53444.67,53312.92,49765.38,61176.73,59651.65,53278.51,58033.90,71216.84,73602.96,69946.58,83264.48,79383.45,85606.70,70078.85,69249.94,79266.13,78253.14,83060.89,76855.09,74708.90,79983.78,72927.75,70444.67,68041.05,74217.71,83278.30,75979.03,82617.32,69920.05,70548.52,71468.47,70514.48,82819.14,78792.75,78266.43,79241.90,97595.17,81710.67,96288.30,98826.02,92672.54,92380.89,100444.38,92431.32,93505.13,89835.88,52552.22,34000.52,30631.80,44627.66,29548.58,45085.49,43894.02,55331.57,72573.64,66782.30,84751.72,104517.57,82945.86,75345.69,65793.23,65800.35,57890.57,45574.87,67526.98,24699.08,41375.88,56219.83,45983.73,40516.16,35227.96,34816.93,61983.03,66832.99,67420.03,62401.17,61141.83];


    var labels= ["15.03.20, 18:00", "15.03.20, 19:00", "15.03.20, 20:00", "15.03.20, 21:00", "auf", "dem" , "See"];
    
    drawGraph(document.getElementById("Canvas1"), envelope, labels,false, false);
    drawGraph(document.getElementById("Canvas2"), spectrum, labels,false, true);
    drawGraph(document.getElementById("Canvas3"), peakHistory,  labels,false, false);
    drawGraph(document.getElementById("Canvas4"), magHistory,  labels,false, false);

  </script>
 </body>
</html>
	Average# 0 of 0	PeakFreq: 1999.39	PeakMag: 61141.83; 
